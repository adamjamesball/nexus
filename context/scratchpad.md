# Scratchpad

- 2025-02-24: Updated docs dev server to port 4100 to avoid conflicts with 300x range and adjusted frontend link accordingly. Terminated lingering dev processes on ports 3001/3003/8000 to recycle ports before restarting.
- 2025-02-24: Improved org boundary start flow diagnostics by surfacing API error details, wiring session failure logs into the dashboard, and adding client-side handling for cleaner messaging.
- 2025-02-24: Fixed org boundary start call to hit `/sessions/{id}/process` with `use_ai` payload so workflow triggers correctly and defaulted frontend API base URL to `http://localhost:8000` when env is unset.
- 2025-02-24: Added `@radix-ui/react-tabs` dependency to unblock config tabs UI; remember lint/build commands still fail due to pre-existing ESLint configuration and agent page type issues.
- 2025-02-24: Refreshed results dashboard styling (dark theme text, summary-first layout, agent progress timeline, org-boundary-only content) per UI feedback. Added session diagnostics toggles/copy-id in org boundary flow to expose backend failure logs.
- 2025-02-25: Wired company intelligence endpoints into onboarding (profile search, document discovery, magic moment) with env-configurable API base, backend health checks, and regression tests for LLaMA3-backed fallback flows.
- 2025-02-25: Rebuilt agent configuration inspector, normalized API contract to backend, exposed workflow/prompt/tooling detail in config pages, and removed Google font dependency to unblock offline builds.
- 2025-09-28: Installed GitHub Spec Kit (`specify-cli`) into the backend virtualenv and added it to backend requirements for repeatable setup; initial install surfaced missing `openai-evals` distribution, addressed below.
- 2025-09-28: Resolved backend dependency install by pinning `evals` to GitHub tag `3.0.0`; full `pip install -r backend/requirements.txt` now succeeds (pulls in large ML stack via evals transitive deps).
- 2025-02-26: Restructured the Org Boundary workflow UI into a four-step journey (objective → load guidance → preview → processing), consolidated configuration controls, trimmed the agent lineup to the active consolidation stack, and added richer in-run narratives/error messaging ahead of kickoff.
- 2025-10-01: Hardened org boundary workflow observability with session metrics/feedback APIs, pushed success-metric computation into the agent, and backfilled pytest coverage (workflow, metrics dashboard, feedback loop).
- 2025-10-01: Extended nature intelligence dashboard to reuse the observability stack (metrics, feedback, learning signals) and expanded the shared results dashboard to surface run telemetry across workflows.
- 2025-10-20: Swapped onboarding document discovery onto the real intelligence agent, returning live sustainability links, generated a Nexus Brain summary with user confirmation/correction loop, and refreshed the UI to manage the new feedback workflow.
- 2025-10-20: Removed interim fallback logic so company matching relies solely on real web intelligence results per guidelines; added confidence-based ranking of scraped domains to prioritize official company sources.
- 2025-10-21: Wired org-boundary prompt overrides end-to-end (JSON-backed store + PUT endpoint), refreshed the inspector to edit sequenced prompts, and added pytest/Jest coverage for the editing workflow.
- 2025-10-21: Re-enabled org-boundary live run streaming by fixing backend websocket payloads, wiring the dashboard to consume them, and trimming the results agent list to the active consolidation stack with real session metrics/feedback.
- 2025-10-21: Simplified the org-boundary processing screen to a single live status feed, deferred the results panel until runs complete, and removed carbon/PCF agent references so the workflow reads purely as consolidation.
- 2025-10-21: Authored the Nexus Brain spec (`context/specs/nexus-brain-spec.md`) covering company selection, document harvesting, vectorisation, continuous scanning, cross-domain super/utility agent support, and alignment with the LangChain/LangGraph architecture.
- 2025-10-22: Assessed web/company search tooling—shortlisted free or near-free API options (Google Programmable Search, Bing free tier, Brave Search, DuckDuckGo Instant Answers) and noted fit for company-matching agent.
- 2025-10-22: Integrated Google Programmable Search for company matching, surfaced candidate metadata in profiles, and added focused pytest coverage.
- 2025-10-22: Added resiliency when the local LLM (Ollama) is offline—backend now raises a 503 with provider metadata and the onboarding UI surfaces a clear outage message.
- 2025-10-22: End-to-end company intelligence workflow now persists confirmed profiles, caches discovered documents, downloads + vectorizes artifacts, and exposes a `/v2/companies/documents` endpoint used by the onboarding flow and the new `scripts/prepare_company.py` helper.
- 2025-10-22: Wrapped `npm run dev` with an Ollama lifecycle helper (`scripts/start_dev_with_ollama.cjs`) that autostarts the daemon and stops it on exit; added start/stop shell helpers with PID tracking.
- 2025-10-23: Implemented the Nexus Brain service with account-bound company selection, artefact ingestion, llama4-powered insight generation, REST endpoints (`/v2/brain/*`), and regression tests using stubbed intelligence + local model fallbacks.
- 2025-10-25: Authored the multi-agent architecture spec, refreshed the Nexus Brain spec with continuous learning coverage, and added carbon + nature super-agent specifications plus documentation links.
